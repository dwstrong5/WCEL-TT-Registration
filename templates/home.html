{% extends "layout.html" %}

{% block header %}
<title>WCEL | Home</title>
<link rel="stylesheet" href="../static/stylesheets/home.css">
<script src="../static/scripts/homePageControls.js" defer></script>
{% endblock %}

{% block body %}

<!--Navbar-->
<div class="w-100 d-flex justify-content-center" style="background-color: #1cbbb4;">
    <nav class="col col-lg-8 navbar navbar-light p-2">
        <a class="navbar-brand" href="https://wcel.net">
            <img src="../static/images/All White WCEL Small Icon Logo 2021.png" style="height: 64px; width: auto;" alt="">
        </a>

        <div class="navbar-nav d-flex flex-row">
            <a class="px-2 nav-link" href="home">Home</a>
            <a class="px-2 nav-link" href="/">Register</a>
            <a class="px-2 nav-link" href="logout">Logout</a>
        </div>
    </nav>
</div>


<div id="banner-container" class="d-flex justify-content-between align-items-end m" style="min-width: 100%;">
    <h1 class="display-5 ms-1 ms-md-4">Recent Check-ins:</h1>
    <button id="reportButton" class="open-form-btn btn btn-link me-1 me-md-4">Generate Report</button>
</div>

<!--Report popup Form-->
<div id="reportPopupForm" class="popup-form col-10 col-md-3">
    <h3 class="pb-1 pt-1 pt-md-0" style="text-align: left">Report Timeline:</h3>
    <div class="d-flex flex-column my-auto col" style="max-width: 100%; overflow: auto;">

        <form action="download" method="post" class="d-flex flex-column">

            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="1">
                <label for="reportTimeFrame" style="padding-left:0.2rem">1 Month</label>
            </div>
    
            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="2">
                <label for="reportTimeFrame" style="padding-left:0.2rem">2 Months</label>
            </div>
    
            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="3">
                <label for="reportTimeFrame" style="padding-left:0.2rem">3 Months</label>
            </div>
    
            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="6">
                <label for="reportTimeFrame" style="padding-left:0.2rem">6 Months</label>
            </div>
            
            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="12">
                <label for="reportTimeFrame" style="padding-left:0.2rem">1 Year</label>
            </div>
    
            <div class="option-wrapper d-flex justify-content-start align-items-center">
                <input type="radio" id="reportTimeFrame" name="reportTimeFrame" value="0">
                <label for="reportTimeFrame" style="padding-left:0.2rem">All time</label>
            </div>
    
            <input type="submit" value="Submit" class="btn btn-primary mt-2">
        </form>
        
    </div>
</div>



<!-- Add record popup form -->
<div id="addRecordPopupForm" class="popup-form col-10 col-md-4">
    <h3 class="pb-1 pt-1 pt-md-0" style="text-align: left">Add Record:</h3>
    <div class="d-flex flex-column my-auto col" style="max-width: 100%; overflow: auto;">

        <form action="add-record" method="post" class="d-flex flex-column overflow-scroll">

            <div class="form-floating mb-1">
                <input type="date" class="form-control" id="date" name="date" placeholder="MM/DD/YYYY" required>
                <label for="date">Date</label>
            </div>

            <div class="form-floating mb-1">
                <input type="input" class="form-control" id="parent-name" name="parent-name" placeholder="Parent/Guardian Name" required>
                <label for="parent-name">Guardian's Name</label>
            </div>

            <div class="form-floating mb-1">
                <select class="form-select" id="relationship" name="relationship">
                    <option value="Parent">Parent</option>
                    <option value="Grandparent">Grandparent</option>
                    <option value="Guardian">Legal Guardian</option>
                    <option value="Nanny">Nanny</option>
                    <option value="Other">Other</option>
                </select>
                <label for="relationship">Relationship</label>
            </div>

            <div class="form-floating mb-1">
                <input type="input" class="form-control" id="child-name-1" name="child-name-1" placeholder="Child Name" required>
                <label for="child-name-1">First Child's Name</label>
            </div>
    
            <div class="form-floating mb-1">
                <input type="input" class="form-control" id="child-name-2" name="child-name-2" placeholder="Child Name" >
                <label for="child-name-2">Second Child's Name</label>
            </div>

            <div class="form-floating mb-1">
                <input type="input" class="form-control" id="child-name-3" name="child-name-3" placeholder="Child Name" >
                <label for="child-name-3">Third Child's Name</label>
            </div>

            <div class="form-floating mb-1">
                <select class="form-select" id="consultation-photo-permission" name="consultation-photo-permission" required>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <label for="relationship">Consultation Photo Permission?</label>
            </div>

            <div class="form-floating mb-1">
                <select class="form-select" id="outreach-photo-permission" name="outreach-photo-permission" required>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                <label for="relationship">Outreach Photo Permission?</label>
            </div>

            <input type="submit" value="Submit" class="btn btn-primary mt-2">
        </form>
    </div>
</div>

<!-- View Record Popup-->
<div id="viewRecordPopupForm" class="popup-form col col-md-10">
    <h3 class="pb-1 pt-1 pt-md-0" style="text-align: left">View Record:</h3>
</div>


<!-- Edit Record Popup-->
<div id="editRecordPopupForm" class="popup-form col col-md-10">
    <h3 class="pb-1 pt-1 pt-md-0" style="text-align: left">Edit Record:</h3>
</div>


<!-- Delete Record Form -->
<div id="deleteRecordPopupForm" class="popup-form col-10 col-md-5">
    <h3 class="pb-1 pt-1 pt-md-0" style="text-align: left; display: inline-block;">
        <img id="warning-icon" src="../static/images/warning-sign.svg" alt="" srcset="" style="vertical-align: middle;">
        <span style="vertical-align: middle; color: black;">Are you sure you want to delete the selected record(s)?</span>
    </h3>
    
    <div class="d-flex mt-2 col">
        <button class="btn btn-success flex-fill" style="margin-right:0.25rem" id="confirm-delete-button">Yes</button>
        <button class="btn btn-danger flex-fill" style="margin-left:0.25rem" id="reject-delete-button">No</button>
    </div>
</div>


<div id="content-viewer" class="d-flex flex-column my-auto col">

    <!-- Header row -->
    <ul class="header-row d-flex align-items-center m-0 mb-1 pt-2 pb-2" style="background-color: rgb(242,242,242); color: rgb(117,129,140)">
        <li class="header-cell" style="min-width: 24px;">
            <input class="header-checkbox" type="checkbox" id="header-checkbox" name="header-checkbox">
        </li>
            {% for key in data.columns %}
                {% if key != 'ID' %}
                    <li class="header-cell" style="min-width: {{ '90px' if key=='Date' else '180px'}};">
                        <strong>{{ key }}</strong>
                    </li>
                {% endif %}
        {% endfor %}
    </ul>

    <div id="data-viewer">
        <!-- Data rows -->
        {% for index, row in data.iterrows() %}
        <ul class="data-row" data-record-id="{{ row['ID'] }}">
            <li class="data-cell" style="min-width: 24px;">
                <input class="data-checkbox" type="checkbox" id="data-checkbox" name="data-checkbox">
            </li>
            {% for key in data.columns %}
                {% if key != "ID" %}
                    <li class="data-cell" style="min-width: {{'90px' if key == 'Date' else ('230px' if 'Photo' in key else '180px')}};">
                        {{ row[key] }}
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
        {% endfor %}
    </div>
</div>

<div id="buttons-container" class="container container-fluid d-flex align-items-center justify-content-center my-2 my-md-5">
    <button id="add-btn" class="open-form-btn btn btn-primary m-1">Add Record</button>
    <button id="view-btn" class="open-form-btn btn btn-success m-1 disabled">View Record</button>
    <button id="edit-btn" class="open-form-btn btn btn-warning m-1 disabled">Edit Record</button>
    <button id="del-btn"  class="open-form-btn btn btn-danger m-1 disabled">Delete Record</button>
</div>

{% endblock %}